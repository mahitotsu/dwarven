# アーキテクチャ設計

全体構成（レイヤー）:
1. CLI 層
   - argparseによる引数パース（入力パス、出力パス、可視化エンジン選択など）
2. 入出力（IO）層
   - CSV読み込み（pandas）
   - レポート書き出し（HTMLファイル）
3. ドメイン / 処理層
   - データ検証（スキーマチェック、欠損処理）
   - 集計ロジック（平均、中央値、最大、最小など）
   - 可視化ラッパー（matplotlib/plotlyの抽象化）
4. レポート生成層
   - Jinja2テンプレートを用いたHTML生成
   - 画像（PNG/SVG）を埋め込む方式
5. テスト層
   - pytestによるユニットテストと小規模統合テスト

コンポーネント詳細:
- analyzer.core: 入力DataFrameを受け取り、集計結果を返す純粋関数群
- analyzer.io: CSV読み書き、ファイルパス管理
- analyzer.visualization: 図を生成して画像ファイル（またはBase64）を返す
- analyzer.report: Jinja2テンプレートにデータを注入してHTMLを作成

技術選定理由:
- pandas: CSV処理と集計が得意で生産性が高い
- matplotlib: 軽量で静的画像生成に適する（plotlyはインタラクティブ向け）
- Jinja2: HTMLテンプレートの標準的選択肢で柔軟性あり

運用/実行:
- 単一スクリプト（analyze.py）でエントリポイントを提供
- モジュール化によりライブラリとしての再利用も可能
